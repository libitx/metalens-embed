"use strict";var metalens=function(){var a=document.querySelector("meta[name=\"bitcoin-tx\"]"),b=a?a.getAttribute("content"):null,c=document.querySelector("link[rel=\"canonical\"]"),d=c?c.getAttribute("href"):window.location.href;return{defaults:{txid:b,url:d,autoSize:!0,width:"100%",height:"600px"},embed:function embed(a,b){var c=a.nodeName?a:document.querySelector(a);if(!c)return!1;var d=document.createElement("iframe"),f=Object.assign({},this.defaults,c.dataset,b),g="https://metalens.allaboard.cash"+(f.txid?"/tx/".concat(f.txid):"/url/".concat(encodeURIComponent(f.url)));f.autoSize=JSON.parse(f.autoSize),d.src=g,d.width=f.width,d.height=f.height,d.setAttribute("frameborder",0);var h={$el:c,$iframe:d,resize:function resize(a){var b=a.width,c=a.height;b&&(this.$iframe.width="".concat(b,"px")),c&&(this.$iframe.height="".concat(c,"px"))},handleMessage:function handleMessage(a){"https://metalens.allaboard.cash"===a.origin&&a.data.href===g&&f.autoSize&&a.data.height&&this.resize({height:a.data.height})}};return c.innerHTML="",c.appendChild(d),window.addEventListener("message",function(a){return h.handleMessage(a)},!1),h}}}();document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".metalens-embed").forEach(function(a){return metalens.embed(a)})});
